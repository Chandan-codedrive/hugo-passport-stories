{{ define "main" }}

<section class="container my-5">

<h2 class="text-center mb-4">Gallery</h2>

<!-- REGION BUTTONS -->
<div class="filter-buttons region-filter text-center mb-3">
  <button class="btn active" data-region="all">All</button>

  {{ $regions := slice }}
  {{ range where .Site.RegularPages "Section" "gallery" }}
    {{ $regions = $regions | append .Params.region }}
  {{ end }}

  {{ range uniq $regions }}
    <button class="btn" data-region="{{ . }}">{{ . | title }}</button>
  {{ end }}
</div>

<!-- COUNTRY BUTTONS -->
<div class="filter-buttons country-filter text-center mb-4"></div>

<!-- IMAGES -->
<div class="gallery-grid">
  {{ range where .Site.RegularPages "Section" "gallery" }}
    {{ $country := .Title }}
    {{ $region := .Params.region }}

    {{ range .Params.images }}
      <div class="gallery-item"
           data-region="{{ $region }}"
           data-country="{{ $country }}">
        <img src="{{ . }}" alt="{{ $country }}">
        <p>{{ $country }}</p>
      </div>
    {{ end }}
  {{ end }}
</div>

</section>

<!-- LIGHTBOX -->
<div id="lightbox">
  <span class="close">&times;</span>
  <span class="nav left">&#10094;</span>
  <img id="lightbox-img">
  <span class="nav right">&#10095;</span>
</div>

<script src="/assets/js/gallery.js"></script>

{{ end }}
